#########
# Modification triggers
#########


- name: modification_trigger_1
  label: [ModificationTrigger]
  priority: 1
  type: token
  pattern: |
    # a passive verb without a subject with a lemma form ending in ylate.  Trigger cannot be negative...
    [!lemma=/^un|de/ & lemma=/(?i)phosphorylat|ubiquitinat|acetylat|farnesylat|glycosylat|hydroxylat|methylat|ribosylat|sumosylat/ & tag="VBN" & !outgoing=/nsubj/ & !incoming=/conj|vmod/] #note: vmod restriction might hurt recall...
    | # a modifier of the specified pattern
    [!lemma=/^un|de/ & lemma=/(?i)phosphorylat|ubiquitinat|acetylat|farnesylat|glycosylat|hydroxylat|methylat|ribosylat|sumosylat/ & tag="JJ"]
# could be made more compact with somethign like lemma=/ylated?$/

# Phosphorylated p53 on serine-15
#########
# Modification rules
#########

- name: modification_1
  label: [PTM, Modification, BioChemicalEntity]
  action: mkModification
  priority: 2
  type: token
  pattern: |
    @mod:ModificationTrigger @entity:BioChemicalEntity ([tag=IN] @site:Site)?


